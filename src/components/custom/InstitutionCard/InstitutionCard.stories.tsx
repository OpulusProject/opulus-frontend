import type { Meta, StoryObj } from '@storybook/react';

import { BalanceDisplay } from '@/components/custom/BalanceDisplay/BalanceDisplay';

import { InstitutionCard } from './InstitutionCard';
import { InstitutionCardBadge } from './InstitutionCardBadge';
import { InstitutionCardLogo } from './InstitutionCardLogo';
import { InstitutionCardName } from './InstitutionCardName';

const meta: Meta<typeof InstitutionCard> = {
  title: 'Components/InstitutionCard',
  component: InstitutionCard,
};

export default meta;
type Story = StoryObj<typeof InstitutionCard>;

// Base 64 encoded logo from Plaid for RBC
const LOGO_BASE_64 =
  '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';

export const Default: Story = {
  render: () => (
    <InstitutionCard>
      <InstitutionCardLogo src={LOGO_BASE_64} />
      <InstitutionCardName>RBC Royal Bank</InstitutionCardName>
      <BalanceDisplay value={494123.71} variant="h4" />
      <InstitutionCardBadge>4 accounts</InstitutionCardBadge>
    </InstitutionCard>
  ),
};

export const Error: Story = {
  render: () => (
    <InstitutionCard>
      <InstitutionCardLogo src={LOGO_BASE_64} />
      <InstitutionCardName>RBC Royal Bank</InstitutionCardName>
      <BalanceDisplay value={494123.71} variant="h4" />
      <InstitutionCardBadge variant="error">Error</InstitutionCardBadge>
    </InstitutionCard>
  ),
};
